<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TeamTrade — 团队智能交易平台</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=Syne:wght@400;500;600;700;800&family=Noto+Sans+SC:wght@300;400;500;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<script src="https://unpkg.com/lightweight-charts@4/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body>
<canvas id="particles"></canvas>

<!-- 顶部导航 -->
<header class="topbar">
  <div class="topbar-left">
    <div class="logo">
      <span class="logo-icon">📊</span>
      <span class="logo-text">TEAM<span class="logo-accent">TRADE</span></span>
    </div>
    <nav class="nav-tabs">
      <button class="nav-tab active" data-tab="dashboard">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
        总览
      </button>
      <button class="nav-tab" data-tab="strategies">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
        策略
      </button>
      <button class="nav-tab" data-tab="team">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
        团队
      </button>
      <button class="nav-tab" data-tab="history">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12,6 12,12 16,14"/></svg>
        历史
      </button>
    </nav>
  </div>
  <div class="topbar-right">
    <div class="market-status">
      <span class="status-dot pulse"></span>
      <span>交易中</span>
    </div>
    <div class="clock" id="clock">--:--:--</div>
    <button class="btn-icon" title="通知">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/></svg>
      <span class="notif-badge">3</span>
    </button>
    <div class="user-pill">
      <div class="user-avatar">TM</div>
      <span class="user-name">团队管理员</span>
    </div>
  </div>
</header>

<!-- 行情滚动条 -->
<div class="ticker-bar">
  <div class="ticker-track" id="tickerTrack"></div>
</div>

<!-- 统计卡片 -->
<section class="stats-row">
  <div class="stat-card accent-green">
    <div class="stat-icon">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/></svg>
    </div>
    <div class="stat-info">
      <div class="stat-label">团队总盈亏</div>
      <div class="stat-value green" id="totalPnl">+$12,847.32</div>
      <div class="stat-sub">今日收益率 <span class="green">+3.2%</span></div>
    </div>
  </div>
  <div class="stat-card">
    <div class="stat-icon">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12V7H5a2 2 0 010-4h14v4"/><path d="M3 5v14a2 2 0 002 2h16v-5"/><path d="M18 12a2 2 0 000 4h4v-4h-4z"/></svg>
    </div>
    <div class="stat-info">
      <div class="stat-label">总持仓价值</div>
      <div class="stat-value" id="totalValue">$0</div>
      <div class="stat-sub" id="avgLeverage">平均杠杆 --</div>
    </div>
  </div>
  <div class="stat-card">
    <div class="stat-icon">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22,4 12,14.01 9,11.01"/></svg>
    </div>
    <div class="stat-info">
      <div class="stat-label">团队胜率</div>
      <div class="stat-value" id="winRate">--</div>
      <div class="stat-sub" id="tradeCount">近30日 · 共 0 笔</div>
    </div>
  </div>
  <div class="stat-card">
    <div class="stat-icon">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
    </div>
    <div class="stat-info">
      <div class="stat-label">活跃成员</div>
      <div class="stat-value" id="activeMembers">-- <span class="stat-unit">/ 6 人</span></div>
      <div class="stat-sub" id="runningStrats">-- 个策略运行中</div>
    </div>
  </div>
</section>

<!-- 主内容区 -->
<main class="main-grid">
  <!-- 左：行情图表 -->
  <section class="card chart-card">
    <div class="card-head">
      <div class="card-head-left">
        <h2 class="card-title">行情走势</h2>
        <select class="chip-select" id="symbolSelect">
          <option>BTC/USDT</option>
          <option>ETH/USDT</option>
          <option>SOL/USDT</option>
          <option>BNB/USDT</option>
        </select>
      </div>
      <div class="tf-group">
        <button class="tf-btn active" data-tf="1分">1分</button>
        <button class="tf-btn" data-tf="5分">5分</button>
        <button class="tf-btn" data-tf="15分">15分</button>
        <button class="tf-btn" data-tf="1时">1时</button>
        <button class="tf-btn" data-tf="4时">4时</button>
        <button class="tf-btn" data-tf="1日">1日</button>
      </div>
    </div>
    <div class="ind-group">
      <span class="ind-label">指标</span>
      <button class="ind-btn active" data-ind="ma7">MA7</button>
      <button class="ind-btn active" data-ind="ma25">MA25</button>
      <button class="ind-btn" data-ind="boll">BOLL</button>
      <button class="ind-btn" data-ind="rsi">RSI</button>
      <button class="ind-btn" data-ind="macd">MACD</button>
    </div>
    <div class="chart-area" id="chartArea">
      <div class="chart-overlay">
        <div class="price-row">
          <span class="price-big" id="priceMain">--</span>
          <span class="price-change" id="priceChange">--</span>
        </div>
        <div class="chart-tags" id="chartTags"></div>
      </div>
    </div>
  </section>

  <!-- 右上：团队持仓 -->
  <section class="card members-card">
    <div class="card-head">
      <h2 class="card-title">团队持仓</h2>
      <span class="pill green">6 人在线</span>
    </div>
    <div class="members-list" id="positionsList"></div>
  </section>

  <!-- 左下：智能策略 -->
  <section class="card strategy-card">
    <div class="card-head">
      <h2 class="card-title">智能策略</h2>
      <button class="btn-primary-sm" id="btnAddStrategy">+ 新建策略</button>
    </div>
    <div class="strategy-list" id="strategyList"></div>
  </section>

  <!-- 右下：实时动态 -->
  <section class="card feed-card">
    <div class="card-head">
      <h2 class="card-title">实时动态</h2>
      <div class="filter-group">
        <button class="filter-btn active" data-filter="all">全部</button>
        <button class="filter-btn" data-filter="long">买入</button>
        <button class="filter-btn" data-filter="short">卖出</button>
        <button class="filter-btn" data-filter="alert">提醒</button>
      </div>
    </div>
    <div class="feed-list" id="signalFeed"></div>
  </section>

  <!-- 订单簿 -->
  <section class="card book-card">
    <div class="card-head">
      <h2 class="card-title">买卖盘口</h2>
      <span class="tag-muted">价差: <span id="spreadVal">0.12</span></span>
    </div>
    <div class="book-grid">
      <div class="book-side book-asks" id="obAsks"></div>
      <div class="book-mid">
        <div class="book-price" id="obMidPrice">68,432.50</div>
        <div class="book-label">最新价</div>
      </div>
      <div class="book-side book-bids" id="obBids"></div>
    </div>
  </section>

  <!-- 快速交易 -->
  <section class="card trade-card">
    <div class="card-head">
      <h2 class="card-title">快速交易</h2>
    </div>
    <div class="trade-body">
      <div class="trade-toggle">
        <button class="toggle-btn buy active" id="btnBuy">买入 / 做多</button>
        <button class="toggle-btn sell" id="btnSell">卖出 / 做空</button>
      </div>
      <div class="field">
        <label>价格 (USDT)</label>
        <input type="text" class="input" value="68,432.50" id="tradePrice">
      </div>
      <div class="field">
        <label>数量</label>
        <input type="text" class="input" placeholder="输入数量" id="tradeAmount">
        <div class="pct-row">
          <button class="pct-btn" data-pct="25">25%</button>
          <button class="pct-btn" data-pct="50">50%</button>
          <button class="pct-btn" data-pct="75">75%</button>
          <button class="pct-btn" data-pct="100">全部</button>
        </div>
      </div>
      <div class="field">
        <label>杠杆倍数</label>
        <div class="lever-row">
          <input type="range" min="1" max="20" value="3" class="range" id="leverageSlider">
          <span class="lever-val" id="leverageVal">3x</span>
        </div>
      </div>
      <div class="cost-box">
        <div class="cost-line"><span>预估成本</span><span id="estCost">--</span></div>
        <div class="cost-line"><span>手续费</span><span>≈ $2.40</span></div>
      </div>
      <div class="field">
        <label>交易策略</label>
        <select class="input" id="tradeStrategy">
          <option>手动交易</option>
          <option>均线交叉策略</option>
          <option>布林带突破策略</option>
          <option>RSI反转策略</option>
          <option>MACD趋势策略</option>
          <option>网格交易策略</option>
          <option>Fibonacci回撤策略</option>
          <option>成交量突破策略</option>
          <option>Ichimoku云图策略</option>
        </select>
      </div>
      <div class="field">
        <label>开仓方法</label>
        <input type="text" class="input" placeholder="如：突破前高回踩确认" id="tradeMethod">
      </div>
      <div class="field">
        <label>交易心得</label>
        <textarea class="input j-textarea" placeholder="记录你的交易逻辑和思考..." id="tradeNote"></textarea>
      </div>
      <button class="btn-exec buy" id="btnExecute">确认买入</button>
    </div>
  </section>
</main>

<!-- 交易日志 -->
<section class="journal-section">
  <div class="card journal-card">
    <div class="card-head">
      <h2 class="card-title">📒 交易日志</h2>
      <div class="j-filter-group">
        <select class="chip-select" id="journalFilter">
          <option value="all">全部策略</option>
          <option>均线交叉策略</option>
          <option>布林带突破策略</option>
          <option>RSI反转策略</option>
          <option>MACD趋势策略</option>
          <option>网格交易策略</option>
          <option>Fibonacci回撤策略</option>
          <option>成交量突破策略</option>
          <option>Ichimoku云图策略</option>
          <option>手动交易</option>
        </select>
        <button class="btn-primary-sm" id="btnExportJournal">导出CSV</button>
        <button class="btn-primary-sm" id="btnExportJSON" style="background:#22d3ee">导出JSON</button>
      </div>
    </div>
    <div class="journal-list" id="journalList"></div>
  </div>
</section>

<!-- 策略分析 -->
<section class="analytics-section">
  <div class="card analytics-card">
    <div class="card-head">
      <h2 class="card-title">📊 策略分析</h2>
    </div>
    <div class="analytics-stats" id="analyticsStats"></div>
    <div class="analytics-list" id="analyticsList"></div>
  </div>
</section>

<!-- 新策略弹窗 -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal">
    <div class="modal-head">
      <h3>创建智能策略</h3>
      <button class="modal-close" id="modalClose">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
    </div>
    <div class="modal-body">
      <div class="field">
        <label>策略名称</label>
        <input type="text" class="input" placeholder="例：BTC 网格策略">
      </div>
      <div class="field">
        <label>策略类型</label>
        <select class="input">
          <option>网格交易 — 区间自动低买高卖</option>
          <option>均线突破 — 趋势跟踪</option>
          <option>RSI 超卖反弹 — 抄底策略</option>
          <option>MACD 金叉 — 动量信号</option>
          <option>布林带突破 — 波动率策略</option>
          <option>Fibonacci回撤 — 精准入场</option>
          <option>成交量突破 — 量价确认</option>
          <option>Ichimoku云图 — 多维趋势</option>
        </select>
      </div>
      <div class="field-row">
        <div class="field">
          <label>交易对</label>
          <select class="input">
            <option>BTC/USDT</option>
            <option>ETH/USDT</option>
            <option>SOL/USDT</option>
          </select>
        </div>
        <div class="field">
          <label>投入资金 (USDT)</label>
          <input type="text" class="input" placeholder="10,000">
        </div>
      </div>
      <div class="field-row">
        <div class="field">
          <label>止盈 (%)</label>
          <input type="text" class="input" placeholder="5.0">
        </div>
        <div class="field">
          <label>止损 (%)</label>
          <input type="text" class="input" placeholder="3.0">
        </div>
      </div>
      <button class="btn-exec buy" style="width:100%;margin-top:8px;">启动策略</button>
    </div>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>
